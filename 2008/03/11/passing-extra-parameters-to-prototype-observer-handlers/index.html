
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Passing extra parameters to Prototype observer handlers | chapter31</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="" name="keywords">
    <meta content="Passing extra parameters to Prototype observer handlers - chapter31" property="og:title">
    <link rel="stylesheet" href="http://chapter31.com/css/style.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css">
    
</head>

<body>

<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="http://chapter31.com"><h1 class="title is-2">chapter31</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="http://michaelsharman.com">
            <span class="icon">
              <i class="fa fa-user-circle"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://github.com/michaelsharman">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/michaelsharman">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="/index.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="subtitle is-6">March 11, 2008</h2>
    <h1 class="title">Passing extra parameters to Prototype observer handlers</h1>
    
    <div class="content">
      <p>Another tip from my <a href="http://www.prototypejs.org/">Prototype</a> travels&hellip;</p>

<p>&lsquo;Observers&rsquo; let you create a listener for a user event, for example on a form submission you may want to run some client side validation before actually submitting the form.</p>

<p>Of course you can add &lsquo;onsubmit()&rsquo; in your <form> tag, but isn&rsquo;t it much nicer to keep your markup clean of this type of thing?</p>

<p>In your dom:loaded observer you can &lsquo;listen&rsquo; for a form submission as follows:</p>

<pre><code class="language-javascript">	$('myForm').observe('submit', validateMyForm);
</code></pre>

<p>Whenever a form with and Id of &lsquo;myForm&rsquo; is submitted the function &lsquo;validateMyForm&rsquo; will fire and automagically be passed an &lsquo;event&rsquo; which will essentially be a reference to the form. This is great, but sometimes you may want to pass extra parameters to the function you want to execute which might be localised to the specific user event (the function might be rather generic etc).</p>

<p>T.J. Crowder gave me a great workaround for this situation on the <a href="http://groups.google.com/group/rubyonrails-spinoffs/">Prototype groups</a>:</p>

<pre><code class="language-javascript">	$('myForm').observe('submit', function(event) {
		validateMyForm(event, param1, param2);
	});
</code></pre>

<p>Note that you need to add an anonymous function here, you can&rsquo;t just add the parameters with the normal syntax.</p>

<p>Any extra parameters can of course be strings or variables set outside of the observer (as long as they&rsquo;re within the parent function of course).</p>

<dl>
<dt>Thanks T.J.</dt>
</dl>

<p>:)</p>

    </div>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="http://michaelsharman.com">Michael Sharman</a> 2017</p>
  </div>
</section>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js" integrity="sha256-KbfTjB0WZ8vvXngdpJGY3Yp3xKk+tttbqClO11anCIU=" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/go.min.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/languages/dockerfile.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-306772-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



</body>
</html>

